---
"Resolve cluster with indices, aliases, and data streams":
  - skip:
      version: " - 8.12.99"
      reason: "resolve cluster added in 8.13"

  - do:
      indices.resolve_cluster:
        name: 'my_remote_cluster:*'
        expand_wildcards: [all]

  - match: {my_remote_cluster.connected: true}
  - match: {my_remote_cluster.skip_unavailable: false}
  - match: {my_remote_cluster.matching_indices: true}
  - exists: my_remote_cluster.version.number

  - do:
      indices.resolve_cluster:
        name: 'my_remote_cluster:doesnotexist'

  - match: {my_remote_cluster.connected: true}
  - match: {my_remote_cluster.skip_unavailable: false}
  - match: {my_remote_cluster.error: "no such index [doesnotexist]"}
  - is_false: my_remote_cluster.matching_indices  # should be absent from response
  - is_false: my_remote_cluster.version           # should be absent from response
