---
"Resolve cluster with indices, aliases, and data streams":
  - skip:
      version: " - 8.12.99"
      reason: "resolve cluster added in 8.13"

  - do:
      indices.resolve_cluster:
        name: 'my_remote_cluster:*'
        expand_wildcards: [all]

  - match: {my_remote_cluster.connected: true}
  - match: {my_remote_cluster.skip_unavailable: false}
  - match: {my_remote_cluster.matching_indices: true}
  - exists: my_remote_cluster.version.number

  - do:
      indices.resolve_cluster:
        name: 'my_remote_cluster:doesnotexist*'

  - match: {my_remote_cluster.connected: true}
  - match: {my_remote_cluster.skip_unavailable: false}
  - match: {my_remote_cluster.matching_indices: false}
  - exists: my_remote_cluster.version.number

  - do:
      catch: missing
      indices.resolve_cluster:
        name: 'my_remote_cluster:doesnotexist'
  - match: { error.type: "index_not_found_exception" }
